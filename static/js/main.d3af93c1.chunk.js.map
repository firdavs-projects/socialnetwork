{"version":3,"sources":["Redux/dialogsReducer.js","Redux/usersReducer.js","API/api.js","components/Nav/Nav.module.css","components/Nav/Nav.jsx","components/Header/Header.jsx","Redux/authReducer.js","components/Header/HeaderComponent.js","components/Login/LoginForm/LoginForm.jsx","components/Login/Login.jsx","Redux/appReducer.js","Redux/sideBarReducer.js","Redux/reduxStore.js","App.js","reportWebVitals.js","index.js","components/FormControls/Controls.module.css","components/Loader/Loader.jsx","components/FormControls/Controls.jsx","Utils/Validators/validator.js","components/Header/Header.module.css","Redux/profileReducer.js"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","payload","dialogsReducer","state","action","body","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOOGLE_IS_FETCHING","TOOGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followUnfollow","dispatch","userId","apiMethod","actionCreator","a","setFollowingInProgress","resultCode","follow","unfollow","setCurrentPage","setIsFetching","getUsers","usersAPI","data","items","total","totalCount","unfollowUser","unFollow","bind","followUser","usersReducer","map","u","followed","filter","instance","axios","create","withCredentials","baseURL","headers","get","then","res","delete","post","profileAPI","getProfile","getStatus","updateStatus","status","put","auth","login","email","password","rememberMe","logout","module","exports","Nav","className","s","nav","item","to","activeClassName","active","Header","props","header","src","alt","loginBlock","isAuth","onClick","logoutMe","SET_USER_DATA","setUserData","authMe","authReducer","HeaderComponent","this","Component","connect","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","required","error","styles","formSummaryError","loginMe","length","stopSubmit","_error","SET_INITIALIZED","initialized","appReducer","friends","sideBarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sideBar","usersPage","app","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","DialogsContainer","React","lazy","ProfileContainer","UsersContainer","App","initializeApp","path","fallback","Loader","AppContainer","withRouter","promiseAuth","Promise","all","MainApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","Textarea","input","meta","hasError","touched","formControl","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","profile","posts","likes","addPostActionCreator","setStatus","newPost","p"],"mappings":"6JAAMA,EAAe,eAEfC,EAAe,CACjBC,QAAS,CACL,CAAEC,GAAI,EAAGC,KAAM,WACf,CAAED,GAAI,EAAGC,KAAM,SACf,CAAED,GAAI,EAAGC,KAAM,WACf,CAAED,GAAI,EAAGC,KAAM,OACf,CAAED,GAAI,EAAGC,KAAM,SACf,CAAED,GAAI,EAAGC,KAAM,QACf,CAAED,GAAI,EAAGC,KAAM,UAEnBC,SAAU,CACN,CAAEF,GAAI,EAAGG,QAAS,MAClB,CAAEH,GAAI,EAAGG,QAAS,gBAClB,CAAEH,GAAI,EAAGG,QAAS,QAoBbC,EAAqB,SAACC,GAAD,MAAqB,CACnDC,KAAMT,EACNU,QAASF,IAGEG,IArBQ,WAAmC,IAAlCC,EAAiC,uDAAzBX,EAAcY,EAAW,uCAErD,OAAQA,EAAOJ,MACX,KAAKT,EACD,IAAMc,EAAOD,EAAOH,QACdJ,EAAU,CAAEH,GAAI,EAAGG,QAASQ,GAClC,OAAO,2BACAF,GADP,IAEIP,SAAS,GAAD,mBAAMO,EAAMP,UAAZ,CAAsBC,MAGtC,QACI,OAAOM,K,2LC7BbG,EAAS,SACTC,EAAW,WACXC,EAAY,YACZC,EAAmB,mBACnBC,EAAwB,wBACxBC,EAAqB,qBACrBC,EAA+B,+BAE/BpB,EAAe,CACjBqB,MAAO,GACPC,SAAU,GACVC,gBAAiB,EACjBC,YAAa,EACbC,YAAY,EACZC,oBAAqB,IAiEnBC,EAAc,uCAAG,WAAOC,EAAUC,EAAQC,EAAWC,GAApC,SAAAC,EAAA,6DACnBJ,EAASK,GAAuB,EAAMJ,IADnB,SAEAC,EAAUD,GAFV,OAGK,IAHL,OAGVK,YACLN,EAASG,EAAcF,IAE3BD,EAASK,GAAuB,EAAOJ,IANpB,2CAAH,4DASPM,EAAS,SAACN,GAAD,MAAa,CAC/BrB,KAAMM,EACNL,QAASoB,IAGAO,EAAW,SAACP,GAAD,MAAa,CACjCrB,KAAMO,EACNN,QAASoB,IAQAQ,EAAiB,SAACb,GAAD,MAAkB,CAC5ChB,KAAMS,EACNR,QAASe,IAQAc,EAAgB,SAACb,GAAD,MAAiB,CAC1CjB,KAAMW,EACNV,QAASgB,IAGAQ,EAAyB,SAACR,EAAYI,GAAb,MAAyB,CAC3DrB,KAAMY,EACNX,QAAS,CAAEgB,aAAYI,YAGdU,EAAW,SAACf,EAAaF,GAClC,8CAAO,WAAOM,GAAP,eAAAI,EAAA,6DACHJ,EAASS,EAAeb,IACxBI,EAASU,GAAc,IAFpB,SAGgBE,IAASD,SAASf,EAAaF,GAH/C,OAGGmB,EAHH,OAIHb,GA9BiBP,EA8BCoB,EAAKC,MA9BK,CAChClC,KAAMQ,EACNP,QAASY,KA6BLO,GArB2Be,EAqBCF,EAAKG,WArBK,CAC1CpC,KAAMU,EACNT,QAASkC,KAoBLf,EAASU,GAAc,IANpB,iCAhBuB,IAACK,EAVVtB,IA0Bd,OAAP,uDAUSwB,EAAe,SAAChB,GACzB,8CAAO,WAAOD,GAAP,eAAAI,EAAA,sDACGF,EAAYU,IAASM,SAASC,KAAKP,KAEzCb,EAAeC,EAAUC,EAAQC,EADXM,GAFnB,2CAAP,uDAOSY,EAAa,SAACnB,GACvB,8CAAO,WAAOD,GAAP,eAAAI,EAAA,sDACGF,EAAYU,IAASL,OAAOY,KAAKP,KAEvCb,EAAeC,EAAUC,EAAQC,EADXK,GAFnB,2CAAP,uDAOWc,IArIM,WAAmC,IAAlCtC,EAAiC,uDAAzBX,EAAcY,EAAW,uCAEnD,OAAQA,EAAOJ,MACX,KAAKM,EACD,OAAO,2BACAH,GADP,IAIIU,MAAOV,EAAMU,MAAM6B,KAAI,SAAAC,GACnB,OAAIA,EAAEjD,KAAOU,EAAOH,QACT,2BAAK0C,GAAZ,IAAeC,UAAU,IAEtBD,OAInB,KAAKpC,EACD,OAAO,2BACAJ,GADP,IAIIU,MAAOV,EAAMU,MAAM6B,KAAI,SAAAC,GACnB,OAAIA,EAAEjD,KAAOU,EAAOH,QACT,2BAAK0C,GAAZ,IAAeC,UAAU,IAEtBD,OAInB,KAAKnC,EACD,OAAO,2BACAL,GADP,IACcU,MAAOT,EAAOH,UAGhC,KAAKQ,EACD,OAAO,2BACAN,GADP,IACca,YAAaZ,EAAOH,UAGtC,KAAKS,EACD,OAAO,2BACAP,GADP,IACcY,gBAAiBX,EAAOH,UAG1C,KAAKU,EACD,OAAO,2BACAR,GADP,IACcc,WAAYb,EAAOH,UAGrC,KAAKW,EACD,OAAO,2BACAT,GADP,IACce,oBAAqBd,EAAOH,QAAQgB,WAAf,sBACrBd,EAAMe,qBADe,CACMd,EAAOH,QAAQoB,SAC9ClB,EAAMe,oBAAoB2B,QAAO,SAAAnD,GAAE,OAAIA,IAAOU,EAAOH,QAAQoB,YAI3E,QACI,OAAOlB,K,gCC7EnB,iFAEM2C,EAFN,OAEiBC,EAAMC,OAAO,CAC1BC,iBAAiB,EACjBC,QAAS,+CACTC,QAAS,CACL,UAAW,0CAINnB,EAAW,CACpBD,SADoB,WACsB,IAAjCf,EAAgC,uDAAlB,EAAGF,EAAe,uDAAJ,GACjC,OAAOgC,EAASM,IAAT,sBAA4BpC,EAA5B,kBAAiDF,IACnDuC,MAAK,SAAAC,GAAG,OAAIA,EAAIrB,SAEzBK,SALoB,SAKXjB,GACL,OAAOyB,EAASS,OAAT,kBAA2BlC,IAC7BgC,MAAK,SAAAC,GAAG,OAAIA,EAAIrB,SAEzBN,OAToB,SASbN,GACH,OAAOyB,EAASU,KAAT,kBAAyBnC,IAC3BgC,MAAK,SAAAC,GAAG,OAAIA,EAAIrB,UAKhBwB,EAAa,CACtBC,WADsB,SACXrC,GACP,OAAOyB,EAASM,IAAT,mBAAyB/B,IAC3BgC,MAAK,SAAAC,GAAG,OAAIA,EAAIrB,SAEzB0B,UALsB,SAKZtC,GACN,OAAOyB,EAASM,IAAT,0BAAgC/B,KAE3CuC,aARsB,SAQTC,GACT,OAAOf,EAASgB,IAAI,kBAAmB,CAAED,YAE7CE,KAXsB,WAYlB,OAAOjB,EAASM,IAAI,YACfC,MAAK,SAAAC,GAAG,OAAIA,EAAIrB,SAEzB+B,MAfsB,SAehBC,EAAOC,GAA+B,IAArBC,EAAoB,wDACvC,OAAOrB,EAASU,KAAK,cAAe,CAAES,QAAOC,WAAUC,gBAE3DC,OAlBsB,WAmBlB,OAAOtB,EAASS,OAAO,kB,+DC5C/Bc,EAAOC,QAAU,CAAC,IAAM,iBAAiB,KAAO,kBAAkB,OAAS,oBAAoB,QAAU,uB,qLCmD1FC,EA/CH,WACV,OACE,qCACE,sBAAKC,UAAWC,IAAEC,IAAlB,UACE,qBAAKF,UAAWC,IAAEE,KAAlB,SACE,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBJ,IAAEK,OAA1C,uBAEF,qBAAKN,UAAWC,IAAEE,KAAlB,SACE,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBJ,IAAEK,OAA1C,wBAGF,qBAAKN,UAAWC,IAAEE,KAAlB,SACE,cAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBJ,IAAEK,OAAxC,qBAGF,qBAAKN,UAAWC,IAAEE,KAAlB,SACE,cAAC,IAAD,CAASC,GAAG,IAAZ,oBAEF,qBAAKJ,UAAWC,IAAEE,KAAlB,SACE,cAAC,IAAD,CAASC,GAAG,IAAZ,qBAEF,qBAAKJ,UAAWC,IAAEE,KAAlB,SACE,cAAC,IAAD,CAASC,GAAG,IAAZ,2BAGJ,2B,iCCVSG,EAhBA,SAACC,GACZ,OACI,yBAAQR,UAAWC,IAAEQ,OAArB,UACI,cAAC,IAAD,CAASL,GAAI,IAAb,SACI,qBAAKM,IAAI,kDAAkDC,IAAI,OAEnE,gDACA,qBAAKX,UAAWC,IAAEW,WAAlB,SACKJ,EAAMjB,KAAKsB,OACN,qCAAE,cAAC,IAAD,CAAST,GAAI,WAAb,SAA0BI,EAAMjB,KAAKC,QAAgB,8BAAK,wBAAQsB,QAASN,EAAMO,SAAvB,oBAA5D,OACA,cAAC,IAAD,CAASX,GAAI,SAAb,yB,gDCXhBY,EAAgB,gBAEhBhG,EAAe,CACjB6B,OAAQ,KACR4C,MAAO,KACPD,MAAO,KACPqB,QAAQ,GAkBCI,EAAc,SAACpE,EAAQ4C,EAAOD,EAAOqB,GAAvB,MAAmC,CAC1DrF,KAAMwF,EACNvF,QAAS,CAAEoB,SAAQ4C,QAAOD,QAAOqB,YAGxBK,EAAS,WAClB,8CAAO,WAAOtE,GAAP,uBAAAI,EAAA,sEACgBiC,IAAWM,OAD3B,cAEqB,KADlB9B,EADH,QAEMP,aAAmB,EACKO,EAAKA,KAA1BvC,EADe,EACfA,GAAIsE,EADW,EACXA,MAAOC,EADI,EACJA,MACnB7C,EAASqE,EAAY/F,EAAIuE,EAAOD,GAAO,KAJxC,kBAMI/B,GANJ,2CAAP,uDAmCW0D,EAxDK,WAAmC,IAAlCxF,EAAiC,uDAAzBX,EAAcY,EAAW,uCAElD,OAAQA,EAAOJ,MACX,KAAKwF,EACD,OAAO,2BACArF,GACAC,EAAOH,SAIlB,QACI,OAAOE,IClBbyF,E,uKAGE,OACI,8BACI,cAAC,EAAD,CAAQ7B,KAAM8B,KAAKb,MAAMjB,KACrBwB,SAAUM,KAAKb,MAAMO,iB,GANXO,aAkBfC,eANS,SAAC5F,GACrB,MAAO,CACH4D,KAAM5D,EAAM4D,QAIoB,CAAEwB,SDoClB,WACpB,8CAAO,WAAOnE,GAAP,SAAAI,EAAA,sEACeiC,IAAWW,SAD1B,OAEyB,IAFzB,OAEKnC,KAAKP,YACTN,EAASqE,EAAY,KAAM,KAAM,MAAM,IAHxC,2CAAP,wDCrCWM,CAAuCH,G,mDCSvCI,EAHQC,YAAU,CAC7BC,KAAM,SADaD,EAtBL,SAACjB,GAEf,OACI,uBAAMmB,SAAUnB,EAAMoB,aAAtB,UACI,8BACI,cAACC,EAAA,EAAD,CAAOC,YAAY,QAAQ3G,KAAM,QAAS4G,UAAWC,IAAOC,SAAU,CAACC,SAE3E,8BACI,cAACL,EAAA,EAAD,CAAOrG,KAAK,WAAWsG,YAAY,WAAW3G,KAAM,WAAY4G,UAAWC,IAAOC,SAAU,CAACC,SAEjG,gCACI,cAACL,EAAA,EAAD,CAAOrG,KAAK,WAAWL,KAAM,aAAc4G,UAAWC,MAD1D,iBAGCxB,EAAM2B,OAAS,qBAAKnC,UAAWoC,IAAOC,iBAAvB,SACZ,+BAAO7B,EAAM2B,UAEjB,8BACI,mDCGDZ,eAJF,SAAC5F,GAAD,MAAY,CACrBkF,OAAQlF,EAAM4D,KAAKsB,UAGM,CAAEyB,QHgBR,SAAC7C,EAAOC,EAAUC,GAErC,8CAAO,WAAO/C,GAAP,mBAAAI,EAAA,sEACeiC,IAAWO,MAAMC,EAAOC,EAAUC,GADjD,OAEyB,KADtBb,EADH,QAEKrB,KAAKP,WACTN,EAASsE,MAEH7F,EAAUyD,EAAIrB,KAAKrC,SAASmH,OAAS,EACrCzD,EAAIrB,KAAKrC,SAAS,GAClB,aACAQ,EAAS4G,YAAW,QAAS,CAAEC,OAAQpH,IAC7CuB,EAAShB,IATV,2CAAP,wDGlBW2F,EArBD,SAACf,GAKX,OAAIA,EAAMK,OACC,cAAC,IAAD,CAAUT,GAAI,aAIrB,gCACI,uCACA,cAAC,EAAD,CAAgBuB,SAXP,SAAC,GAAqC,IAAnClC,EAAkC,EAAlCA,MAAOC,EAA2B,EAA3BA,SAAUC,EAAiB,EAAjBA,WACjCa,EAAM8B,QAAQ7C,EAAOC,EAAUC,YCNjC+C,EAAkB,kBAElB1H,EAAe,CACjB2H,aAAa,GAkCFC,EA/BI,WAAmC,IAAlCjH,EAAiC,uDAAzBX,EAAcY,EAAW,uCAEjD,OAAQA,EAAOJ,MACX,KAAKkH,EACD,OAAO,2BACA/G,GADP,IAEIgH,aAAa,IAIrB,QACI,OAAOhH,I,gCCnBbX,EAAe,CACjB6H,QAAS,CACL,CAAE3H,GAAI,EAAGC,KAAM,WACf,CAAED,GAAI,EAAGC,KAAM,SACf,CAAED,GAAI,EAAGC,KAAM,WACf,CAAED,GAAI,EAAGC,KAAM,OACf,CAAED,GAAI,EAAGC,KAAM,WAUR2H,EANQ,WAAmC,IAAlCnH,EAAiC,uDAAzBX,EAG5B,OAAOW,G,2BCHLoH,GAAWC,YAAgB,CAC7BC,YAAaC,IACbC,YAAazH,IACb0H,QAASN,EACTO,UAAWpF,IACXsB,KAAM4B,EACNmC,IAAKV,EACLlB,KAAM6B,MAGJC,GAAmBC,OAAOC,sCAAwCC,IAKzDC,GAJDC,YAAYd,GAAUS,GAChCM,YAAgBC,OCVdC,GAAmBC,IAAMC,MAAK,kBAAM,iCACpCC,GAAmBF,IAAMC,MAAK,kBAAM,iCACpCE,GAAiBH,IAAMC,MAAK,kBAAM,iCAElCG,G,kLAGFhD,KAAKb,MAAM8D,kB,+BAIX,OAAKjD,KAAKb,MAAMmC,YAKd,sBAAK3C,UAAU,cAAf,UAEE,cAAC,EAAD,IACA,cAAC,EAAD,IAEA,sBAAKA,UAAU,sBAAf,UACE,cAAC,IAAD,CAAOuE,KAAK,WAAZ,SACE,cAAC,WAAD,CAAUC,SAAU,cAACC,EAAA,EAAD,IAApB,SACE,cAACT,GAAD,QAIJ,cAAC,IAAD,CAAOO,KAAK,oBAAZ,SACE,cAAC,WAAD,CAAUC,SAAU,cAACC,EAAA,EAAD,IAApB,SACE,cAACN,GAAD,QAKJ,cAAC,IAAD,CAAOI,KAAK,SAAZ,SACE,cAAC,WAAD,CAAUC,SAAU,cAACC,EAAA,EAAD,IAApB,SACE,cAACL,GAAD,QAMJ,cAAC,IAAD,CAAOG,KAAK,SAAZ,SACE,cAAC,EAAD,YAhCC,cAACE,EAAA,EAAD,Q,GARKnD,aAsDZoD,GAAef,YACnBgB,IACApD,aANW,SAAC5F,GAAD,MAAY,CACvBgH,YAAahH,EAAM2H,IAAIX,eAKT,CAAE2B,cH7CW,WACzB,OAAO,SAAC1H,GACJ,IAAMgI,EAAchI,EAASsE,KAE7B2D,QAAQC,IAAI,CAACF,IAAc/F,MACvB,WACIjC,EAVqB,CACjCpB,KAAMkH,WG8CWiB,CAGnBU,IASaU,GAPC,SAACvE,GACf,OAAO,cAAC,IAAD,CAAUoD,MAAOA,GAAjB,SACL,cAAC,IAAD,UACE,cAACc,GAAD,SClESM,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBrG,MAAK,YAAkD,IAA/CsG,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BZ,M,mBCfAnF,EAAOC,QAAU,CAAC,YAAc,8BAA8B,MAAQ,wBAAwB,iBAAmB,qC,uDCUlG2E,IARA,WACX,OACI,qBAAKzE,UAAU,kBAAf,SACI,sBAAKA,UAAU,eAAf,UAA8B,wBAAW,wBAAW,+B,sJCHnD6F,EAAW,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,KAASvF,EAAY,gCAC7CwF,EAAWD,EAAKE,SAAWF,EAAK5D,MACtC,OACI,sBAAKnC,UAAWoC,IAAO8D,YAAc,KAAOF,EAAW5D,IAAOD,MAAQ,IAAtE,UACI,8BACI,oDAAc2D,GAAWtF,MAE5BwF,GAAY,+BAAOD,EAAK5D,YAKxBH,EAAQ,SAAC,GAA+B,IAA7B8D,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,KAASvF,EAAY,gCAC1CwF,EAAWD,EAAKE,SAAWF,EAAK5D,MACtC,OACI,sBAAKnC,UAAWoC,IAAO8D,YAAc,KAAOF,EAAW5D,IAAOD,MAAQ,IAAtE,UACI,8BACI,iDAAW2D,GAAWtF,MAEzBwF,GAAY,+BAAOD,EAAK5D,a,gCCtBrC,oEAAO,IAAMD,EAAW,SAACiE,GACrB,IAAIA,EAGJ,MAAO,qBAGEC,EAAmB,SAACC,GAAD,OAAe,SAACF,GAC5C,GAAIA,GAASA,EAAM5D,OAAS8D,EACxB,MAAM,iBAAN,OAAwBA,EAAxB,e,mBCRRxG,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,6B,4NCCzDwG,EAAW,WACXC,EAAmB,mBACnBC,EAAa,aACbC,EAAc,cAEdzL,EAAe,CACjB0L,QAAS,KACTC,MAAO,CACH,CAAEzL,GAAI,EAAG8D,KAAM,KAAM4H,MAAO,IAC5B,CAAE1L,GAAI,EAAG8D,KAAM,eAAgB4H,MAAO,IAE1CvH,OAAQ,IAsCCwH,EAAuB,SAAC7H,GAAD,MAAW,CAC3CxD,KAAM8K,EACN7K,QAASuD,IAaA8H,EAAY,SAACzH,GAAD,MAAa,CAClC7D,KAAMgL,EACN/K,QAAS4D,IAGAH,EAAa,SAACrC,GACvB,OAAO,SAACD,GACJqC,IAAWC,WAAWrC,GACjBgC,MAAK,SAAApB,GACFb,EAd4B,CACxCpB,KAAM+K,EACN9K,QAYoCgC,SAK3B0B,EAAY,SAACtC,GACtB,8CAAO,WAAOD,GAAP,eAAAI,EAAA,sEACeiC,IAAWE,UAAUtC,GADpC,OACGiC,EADH,OAEHlC,EAASkK,EAAUhI,EAAIrB,OAFpB,2CAAP,uDAMS2B,EAAe,SAACC,GACzB,8CAAO,WAAOzC,GAAP,SAAAI,EAAA,sEACeiC,IAAWG,aAAaC,GADvC,OAEyB,IAFzB,OAEK5B,KAAKP,YACTN,EAASkK,EAAUzH,IAHpB,2CAAP,uDAQW6D,IAhFQ,WAAmC,IAAlCvH,EAAiC,uDAAzBX,EAAcY,EAAW,uCAErD,OAAQA,EAAOJ,MACX,KAAK8K,EACD,IAAMS,EAAU,CACZ7L,GAAI,EACJ8D,KAAMpD,EAAOH,QACbmL,MAAO,GAEX,OAAO,2BACAjL,GADP,IAEIgL,MAAM,CAAEI,GAAH,mBAAepL,EAAMgL,UAGlC,KAAKF,EACD,OAAO,2BACA9K,GADP,IACcgL,MAAOhL,EAAMgL,MAAMtI,QAAO,SAAA2I,GAAC,OAAIA,EAAE9L,KAAOU,EAAOH,aAGjE,KAAK8K,EACD,OAAO,2BACA5K,GADP,IACc+K,QAAS9K,EAAOH,UAGlC,KAAK+K,EACD,OAAO,2BACA7K,GADP,IACc0D,OAAQzD,EAAOH,UAIjC,QACI,OAAOE,M","file":"static/js/main.d3af93c1.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Firdavs' },\r\n        { id: 2, name: 'Fedya' },\r\n        { id: 3, name: 'Abdullo' },\r\n        { id: 4, name: 'Ali' },\r\n        { id: 5, name: 'Rahim' },\r\n        { id: 6, name: 'Abdu' },\r\n        { id: 7, name: 'Salim' }\r\n    ],\r\n    messages: [\r\n        { id: 1, message: 'Hi' },\r\n        { id: 2, message: 'How are you?' },\r\n        { id: 3, message: 'Yo' }\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            const body = action.payload\r\n            const message = { id: 6, message: body };\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, message,],\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({\r\n    type: SEND_MESSAGE,\r\n    payload: newMessageBody\r\n})\r\n\r\nexport default dialogsReducer","import { usersAPI } from \"../API/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOOGLE_IS_FETCHING = 'TOOGLE_IS_FETCHING';\r\nconst TOOGLE_IS_FOLLOWING_PROGRESS = 'TOOGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                // users: updateObjectInArray(state.users, action.payload, 'id', { followed: true })\r\n\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.payload) {\r\n                        return { ...u, followed: true }\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                // users: updateObjectInArray(state.users, action.payload, 'id', { followed: false })\r\n\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.payload) {\r\n                        return { ...u, followed: false }\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state, users: action.payload\r\n            }\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPage: action.payload\r\n            }\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state, totalUsersCount: action.payload\r\n            }\r\n\r\n        case TOOGLE_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.payload\r\n            }\r\n\r\n        case TOOGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state, followingInProgress: action.payload.isFetching\r\n                    ? [...state.followingInProgress, action.payload.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.payload.userId)\r\n\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst followUnfollow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(setFollowingInProgress(true, userId))\r\n    const data = await apiMethod(userId)\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(setFollowingInProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => ({\r\n    type: FOLLOW,\r\n    payload: userId\r\n})\r\n\r\nexport const unfollow = (userId) => ({\r\n    type: UNFOLLOW,\r\n    payload: userId\r\n})\r\n\r\nexport const setUsers = (users) => ({\r\n    type: SET_USERS,\r\n    payload: users\r\n})\r\n\r\nexport const setCurrentPage = (currentPage) => ({\r\n    type: SET_CURRENT_PAGE,\r\n    payload: currentPage\r\n})\r\n\r\nexport const setTotalUsersCount = (total) => ({\r\n    type: SET_TOTAL_USERS_COUNT,\r\n    payload: total\r\n})\r\n\r\nexport const setIsFetching = (isFetching) => ({\r\n    type: TOOGLE_IS_FETCHING,\r\n    payload: isFetching\r\n})\r\n\r\nexport const setFollowingInProgress = (isFetching, userId) => ({\r\n    type: TOOGLE_IS_FOLLOWING_PROGRESS,\r\n    payload: { isFetching, userId }\r\n})\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(setCurrentPage(currentPage))\r\n        dispatch(setIsFetching(true))\r\n        const data = await usersAPI.getUsers(currentPage, pageSize)\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n        dispatch(setIsFetching(false))\r\n    }\r\n}\r\n\r\nexport const unfollowUser = (userId) => {\r\n    return async (dispatch) => {\r\n        const apiMethod = usersAPI.unFollow.bind(usersAPI)\r\n        const actionCreator = unfollow\r\n        followUnfollow(dispatch, userId, apiMethod, actionCreator)\r\n    }\r\n}\r\n\r\nexport const followUser = (userId) => {\r\n    return async (dispatch) => {\r\n        const apiMethod = usersAPI.follow.bind(usersAPI)\r\n        const actionCreator = follow\r\n        followUnfollow(dispatch, userId, apiMethod, actionCreator)\r\n    }\r\n}\r\n\r\nexport default usersReducer","import axios from \"axios\"\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0',\r\n    headers: {\r\n        \"API-KEY\": \"8ac421a0-04c1-432d-80ca-1dcc953182a0\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`/users?page=${currentPage}&count=${pageSize}`,)\r\n            .then(res => res.data)\r\n    },\r\n    unFollow(userId) {\r\n        return instance.delete(`/follow/${userId}`)\r\n            .then(res => res.data)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`/follow/${userId}`)\r\n            .then(res => res.data)\r\n    },\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`/profile/${userId}`)\r\n            .then(res => res.data)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`/profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put('/profile/status', { status })\r\n    },\r\n    auth() {\r\n        return instance.get('/auth/me')\r\n            .then(res => res.data)\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post('/auth/login', { email, password, rememberMe })\r\n    },\r\n    logout() {\r\n        return instance.delete('/auth/login')\r\n    }\r\n\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__2lFMN\",\"item\":\"Nav_item__1xs7J\",\"active\":\"Nav_active__2DWWH\",\"friends\":\"Nav_friends__1LDU6\"};","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n// import Friend from './Friends/Friend'\r\nimport s from './Nav.module.css'\r\n\r\nconst Nav = () => {\r\n  return (\r\n    <>\r\n      <nav className={s.nav}>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\r\n        </div>\r\n\r\n        <div className={s.item}>\r\n          <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\r\n        </div>\r\n\r\n        <div className={s.item}>\r\n          <NavLink to=\"/\">News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/\">Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/\">Settings</NavLink>\r\n        </div>\r\n      </nav>\r\n      <hr />\r\n\r\n\r\n      {/*<div>\r\n        Histories\r\n      </div>\r\n       <StoreContext.Consumer>{\r\n        (store) => {\r\n          return (\r\n            <div className={s.friends}>\r\n              {store.getState().sideBar.friends.map(o => <Friend name={o.name} key={Math.random()} />)}\r\n            </div>\r\n          )\r\n        }\r\n      }\r\n      </StoreContext.Consumer>\r\n      <hr /> */}\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Nav\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './Header.module.css'\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <NavLink to={'/'}>\r\n                <img src=\"https://cdn.logo.com/hotlink-ok/logo-social.png\" alt=\"\" />\r\n            </NavLink>\r\n            <h3>social network</h3>\r\n            <div className={s.loginBlock}>\r\n                {props.auth.isAuth\r\n                    ? <><NavLink to={'/profile'}>{props.auth.login}</NavLink><div><button onClick={props.logoutMe}>Exit</button></div> </>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { profileAPI } from \"../API/api\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: { userId, email, login, isAuth }\r\n})\r\n\r\nexport const authMe = () => {\r\n    return async (dispatch) => {\r\n        const data = await profileAPI.auth()\r\n        if (data.resultCode === 0) {\r\n            const { id, login, email } = data.data\r\n            dispatch(setUserData(id, email, login, true))\r\n        }\r\n        return data\r\n    }\r\n}\r\n\r\nexport const loginMe = (email, password, rememberMe) => {\r\n\r\n    return async (dispatch) => {\r\n        const res = await profileAPI.login(email, password, rememberMe)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(authMe())\r\n        } else {\r\n            const message = res.data.messages.length > 0\r\n                ? res.data.messages[0]\r\n                : 'Some error'\r\n            const action = stopSubmit('login', { _error: message })\r\n            dispatch(action)\r\n        }\r\n    }\r\n}\r\n\r\nexport const logoutMe = () => {\r\n    return async (dispatch) => {\r\n        const res = await profileAPI.logout()\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setUserData(null, null, null, false))\r\n        }\r\n    }\r\n}\r\n\r\nexport default authReducer","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Header from './Header'\r\nimport { logoutMe } from '../../Redux/authReducer'\r\n\r\nclass HeaderComponent extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header auth={this.props.auth}\r\n                    logoutMe={this.props.logoutMe} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.auth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { logoutMe })(HeaderComponent)","import React from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { required } from '../../../Utils/Validators/validator'\r\nimport { Input } from '../../FormControls/Controls'\r\nimport styles from '../../FormControls/Controls.module.css'\r\n\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder='Email' name={\"email\"} component={Input} validate={[required]} />\r\n            </div>\r\n            <div>\r\n                <Field type='password' placeholder='Password' name={\"password\"} component={Input} validate={[required]} />\r\n            </div>\r\n            <div>\r\n                <Field type=\"checkbox\" name={\"rememberMe\"} component={Input} />remember me\r\n            </div>\r\n            {props.error && <div className={styles.formSummaryError}>\r\n                <span>{props.error}</span>\r\n            </div>}\r\n            <div >\r\n                <button>Login</button>\r\n            </div>\r\n        </form>)\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\nexport default LoginReduxForm\r\n","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { loginMe } from '../../Redux/authReducer';\r\nimport LoginReduxForm from './LoginForm/LoginForm'\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = ({ email, password, rememberMe }) => {\r\n        props.loginMe(email, password, rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mstp = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mstp, { loginMe })(Login) \r\n","import { authMe } from \"./authReducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_INITIALIZED: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setInitialized = () => ({\r\n    type: SET_INITIALIZED,\r\n})\r\n\r\nexport const initializeApp = () => {\r\n    return (dispatch) => {\r\n        const promiseAuth = dispatch(authMe())\r\n\r\n        Promise.all([promiseAuth]).then(\r\n            () => {\r\n                dispatch(setInitialized())\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nexport default appReducer","const initialState = {\r\n    friends: [\r\n        { id: 1, name: 'Firdavs' },\r\n        { id: 2, name: 'Fedya' },\r\n        { id: 3, name: 'Abdullo' },\r\n        { id: 4, name: 'Ali' },\r\n        { id: 5, name: 'Rahim' }\r\n    ],\r\n}\r\n\r\nconst sideBarReducer = (state = initialState, action) => {\r\n\r\n\r\n    return state\r\n}\r\n\r\nexport default sideBarReducer","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport profileReducer from './profileReducer'\r\nimport dialogsReducer from './dialogsReducer'\r\nimport sideBarReducer from './sideBarReducer'\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\n\r\nconst reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sideBar: sideBarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunk)\r\n));\r\n\r\nexport default store","import React, { Component, Suspense } from 'react';\r\nimport './App.css';\r\nimport Nav from './components/Nav/Nav';\r\nimport { BrowserRouter, Route, withRouter } from 'react-router-dom';\r\nimport HeaderComponent from './components/Header/HeaderComponent';\r\nimport Login from './components/Login/Login';\r\nimport { initializeApp } from './Redux/appReducer';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport Loader from './components/Loader/Loader';\r\nimport store from './Redux/reduxStore'\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'))\r\n\r\nclass App extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.initializeApp()\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Loader />\r\n    }\r\n\r\n    return (\r\n      <div className='app-wrapper'>\r\n\r\n        <HeaderComponent />\r\n        <Nav />\r\n\r\n        <div className='app-wrapper-content'>\r\n          <Route path='/dialogs'>\r\n            <Suspense fallback={<Loader/>}>\r\n              <DialogsContainer />\r\n            </Suspense>\r\n          </Route>\r\n\r\n          <Route path='/profile/:userId?'>\r\n            <Suspense fallback={<Loader/>}>\r\n              <ProfileContainer />\r\n            </Suspense>\r\n\r\n          </Route>\r\n\r\n          <Route path='/users'>\r\n            <Suspense fallback={<Loader/>}>\r\n              <UsersContainer />\r\n            </Suspense>\r\n\r\n\r\n          </Route>\r\n\r\n          <Route path='/login'>\r\n            <Login />\r\n          </Route>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mstp = (state) => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\nconst AppContainer = compose(\r\n  withRouter,\r\n  connect(mstp, { initializeApp })\r\n)(App);\r\n\r\nconst MainApp = (props) => {\r\n  return <Provider store={store}>\r\n    <BrowserRouter>\r\n      <AppContainer />\r\n    </BrowserRouter>\r\n  </Provider>\r\n}\r\nexport default MainApp","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport MainApp from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <MainApp />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"Controls_formControl__3nb7c\",\"error\":\"Controls_error__hHh-B\",\"formSummaryError\":\"Controls_formSummaryError__2MtqF\"};","import React from 'react'\r\nimport './Loader.css'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"containerLoader\">\r\n            <div className=\"lds-facebook\"><div></div><div></div><div></div></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader\r\n","import React from 'react'\r\nimport styles from './Controls.module.css'\r\n\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')} >\r\n            <div>\r\n                <textarea {...input} {...props} />\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')} >\r\n            <div>\r\n                <input {...input} {...props} />\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n","export const required = (value) => {\r\n    if (value) {\r\n        return undefined\r\n    }\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value && value.length > maxLength) {\r\n        return `Max length is ${maxLength} symbols`\r\n    }\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3g2a8\",\"loginBlock\":\"Header_loginBlock__33ijg\"};","import { profileAPI } from \"../API/api\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nconst initialState = {\r\n    profile: null,\r\n    posts: [\r\n        { id: 1, post: 'Hi', likes: 12 },\r\n        { id: 2, post: 'How are you?', likes: 5 },\r\n    ],\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            const newPost = {\r\n                id: 5,\r\n                post: action.payload,\r\n                likes: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [newPost, ...state.posts],\r\n            }\r\n        }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state, posts: state.posts.filter(p => p.id !== action.payload)\r\n            }\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state, profile: action.payload\r\n            }\r\n\r\n        case SET_STATUS:\r\n            return {\r\n                ...state, status: action.payload\r\n            }\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (post) => ({\r\n    type: ADD_POST,\r\n    payload: post\r\n})\r\n\r\nexport const deletePost = (id) => ({\r\n    type: DELETE_POST,\r\n    payload: id\r\n})\r\n\r\nexport const setUserProfile = (profile) => ({\r\n    type: SET_USER_PROFILE,\r\n    payload: profile\r\n})\r\n\r\nexport const setStatus = (status) => ({\r\n    type: SET_STATUS,\r\n    payload: status\r\n})\r\n\r\nexport const getProfile = (userId) => {\r\n    return (dispatch) => {\r\n        profileAPI.getProfile(userId)\r\n            .then(data => {\r\n                dispatch(setUserProfile(data))\r\n            })\r\n    }\r\n}\r\n\r\nexport const getStatus = (userId) => {\r\n    return async (dispatch) => {\r\n        const res = await profileAPI.getStatus(userId)\r\n        dispatch(setStatus(res.data))\r\n    }\r\n}\r\n\r\nexport const updateStatus = (status) => {\r\n    return async (dispatch) => {\r\n        const res = await profileAPI.updateStatus(status)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setStatus(status))\r\n        }\r\n    }\r\n}\r\n\r\nexport default profileReducer"],"sourceRoot":""}